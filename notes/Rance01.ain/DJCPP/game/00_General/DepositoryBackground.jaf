int DepositoryBackground::getX()
/* 00064f48 */{
/* 00064f48 */	return this.x_;
/* 00064f50 */}

int DepositoryBackground::getY()
/* 00064f5e */{
/* 00064f5e */	return this.y_;
/* 00064f66 */}

DepositoryBackground::DepositoryBackground()
/* 00064f74 */{
/* 00064f7c */	this.gameObjectId_ = g_gameObjectManager.add(this.update);
/* 00064f9e */	this.x_ = -48;
/* 00064fb0 */	this.lastPage_ = -1;
/* 00064fc2 */}

void DepositoryBackground::init(DG_SwipeScrollerGetPage getPage, bool isLowerPosition, int depositoryIndex, int groupCount, int remainder)
/* 00064fca */{
/* 00064fca */	this.getPage_ += getPage;
/* 00064fdc */	this.groupCount_ = groupCount;
/* 00064fe6 */	this.remainder_ = remainder;
/* 00064ff0 */	this.isLowerPosition_ = isLowerPosition;
/* 00064ffa */	this.depositoryIndex_ = depositoryIndex;
/* 00065004 */	this.y_ = this.isLowerPosition_ ? 508 : -48;
/* 0006502c */	this.initParts();
/* 00065034 */}

void DepositoryBackground::initParts()
/* 0006503c */{
/* 0006503c */	this.parts_[0].init(this.getBgCgName(this.isLowerPosition_, this.depositoryIndex_), 0);
/* 0006506a */	this.parts_[0].setShow(true);
/* 00065084 */	this.initPartsIndicatorGroupBg();
/* 0006508c */	this.initPartsNgFrame();
/* 00065094 */	createPartsGroup(this.parent_, this.parts_, 4000);
/* 000650ac */	this.parent_.setPos(this.x_, this.isLowerPosition_ ? 768 : -360, -2147483648);
/* 000650e0 */}

void DepositoryBackground::update()
/* 000650e8 */{
/* 000650e8 */	switch (this.state_)
/* 000650fa */	{
/* 000650fa */	case 1:
/* 000650fa */		if (!this.parent_.isMotion())
/* 0006510e */		{
/* 0006510e */			this.state_ = 2;
/* 00065118 */		}
/* 0006511e */		break;
/* 00065124 */	case 2:
/* 00065124 */		this.updateNgFrameShowState();
/* 0006512c */		break;
/* 00065132 */	case 3:
/* 00065132 */		if (!this.parent_.isMotion())
/* 00065146 */		{
/* 00065146 */			this.state_ = 0;
/* 00065150 */		}
/* 00065156 */		break;
/* 0006515c */	case 0:
/* 0006515c */		break;
/* 00065162 */	}
/* 00065162 */}

void DepositoryBackground::fadeIn(bool val)
/* 0006516a */{
/* 0006516a */	if (this.isIgnoreFadeMotion(val))
/* 0006517e */	{
/* 0006517e */		return;
/* 00065180 */	}
/* 00065186 */	MotionInfomation m;
/* 00065196 */	if (val)
/* 000651a2 */	{
/* 000651a2 */		m.setMove(this.x_, this.isLowerPosition_ ? 768 : -360, this.x_, this.y_, 4);
/* 000651e2 */	}
/* 000651e8 */	else
/* 000651e8 */	{
/* 000651e8 */		m.setMove(this.x_, this.y_, this.x_, this.isLowerPosition_ ? 768 : -360, 1);
/* 00065228 */	}
/* 00065228 */	this.parent_.setShow(true);
/* 0006523a */	this.parent_.runMotion(m);
/* 00065254 */	this.state_ = val ? 1 : 3;
/* 0006527e */}

bool DepositoryBackground::isIgnoreFadeMotion(bool val)
/* 00065286 */{
/* 00065286 */	if (val && (this.state_ == 1 || this.state_ == 2))
/* 000652ea */	{
/* 000652ea */		return true;
/* 000652f2 */	}
/* 000652f8 */	if (!val && (this.state_ == 3 || this.state_ == 0))
/* 0006535e */	{
/* 0006535e */		return true;
/* 00065366 */	}
/* 0006536c */	return false;
/* 00065374 */}

void DepositoryBackground::initPartsIndicatorGroupBg()
/* 00065382 */{
/* 00065382 */	int i;
/* 0006538c */	int x = getIndicatorXPos(this.groupCount_);
/* 000653a4 */	for (i = 0; i < 5; ++i)
/* 000653ce */	{
/* 000653ce */		this.parts_[1 + i].init("システム／チップインジケータ／下地", 0);
/* 000653f6 */		this.parts_[1 + i].setCgRange(152 * i, 0, 152, 40);
/* 00065432 */		this.parts_[1 + i].setPos(x + 168 * i, this.isLowerPosition_ ? 208 : 256, -2147483648);
/* 00065486 */		this.parts_[1 + i].setShow(i < this.groupCount_);
/* 000654b2 */		this.parts_[1 + i].setDrawFilter(1);
/* 000654d4 */	}
/* 000654da */}

void DepositoryBackground::initPartsNgFrame()
/* 000654e2 */{
/* 000654e2 */	int i;
/* 000654ec */	for (i = 0; i < 7; ++i)
/* 00065516 */	{
/* 00065516 */		this.parts_[6 + i].init("システム／チップエリア／使用不可", 0);
/* 0006553e */		this.parts_[6 + i].setDrawFilter(1);
/* 00065560 */		this.parts_[6 + i].setPos(226 + 96 * i, this.isLowerPosition_ ? 68 : 116, -2147483648);
/* 000655b4 */	}
/* 000655ba */}

string DepositoryBackground::getBgCgName(bool isLower, int depIndex)
/* 000655c2 */{
/* 000655c2 */	if (isLower)
/* 000655ce */	{
/* 000655ce */		if (depIndex == 0)
/* 000655dc */		{
/* 000655dc */			return "システム／手持ち／下地";
/* 000655e4 */		}
/* 000655ea */		return "システム／手持ち／下地／押入れ";
/* 000655f2 */	}
/* 000655f8 */	else if (depIndex < 0)
/* 00065606 */	{
/* 00065606 */		return "システム／商品棚／下地";
/* 0006560e */	}
/* 00065614 */	return "システム／押入れ／下地";
/* 0006561c */}

void DepositoryBackground::updateNgFrameShowState()
/* 0006562a */{
/* 0006562a */	int n = this.getPage_();
/* 00065652 */	if (this.lastPage_ != n)
/* 00065666 */	{
/* 00065666 */		this.lastPage_ = n;
/* 00065670 */		if (n == this.groupCount_ - 1 && this.remainder_ != 0)
/* 000656b2 */		{
/* 000656b2 */			int i;
/* 000656bc */			for (i = 0; i < 7; ++i)
/* 000656e6 */			{
/* 000656e6 */				this.parts_[6 + i].setShow(this.remainder_ <= i);
/* 00065712 */			}
/* 00065718 */		}
/* 0006571e */		else
/* 0006571e */		{
/* 0006571e */			int i;
/* 00065728 */			for (i = 0; i < 7; ++i)
/* 00065752 */			{
/* 00065752 */				this.parts_[6 + i].setShow(false);
/* 00065774 */			}
/* 0006577a */		}
/* 0006577a */	}
/* 00065780 */}

bool DepositoryBackground::isMotion()
/* 00065788 */{
/* 00065788 */	return this.state_ == 1 || this.state_ == 3;
/* 000657c6 */}

int DepositoryBackground::getParentPartsNumber()
/* 000657d4 */{
/* 000657d4 */	return this.parent_.getPartsNumber();
/* 000657e2 */}

